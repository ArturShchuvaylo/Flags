{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nexport const loadCountryByName = createAsyncThunk('loadCountryByName', (name, _ref) => {\n  let {\n    extra: {\n      client,\n      api\n    }\n  } = _ref;\n  return client.get(api.searchByCountry(name));\n});\nconst initialState = {\n  currentCountry: null,\n  status: 'idle',\n  error: null,\n  neighbors: []\n};\nexport const detailsSlice = createSlice({\n  name: 'details',\n  initialState,\n  reducers: {\n    clearDetails: () => initialState\n  },\n  extraReducers: builder => {\n    builder.addCase(loadCountryByName.pending, (state, action) => {\n      state.status = 'loading';\n    }).addCase(loadCountryByName.fulfilled, (state, action) => {\n      state.status = 'idle';\n      state.currentCountry = action.payload.data[0];\n    }).addCase(loadCountryByName.rejected, (state, action) => {\n      state.status = 'rejected';\n      state.error = action.payload;\n    });\n  }\n});\nexport const detailsReducer = detailsSlice.reducer;\nexport const selectCurrentCountry = state => state.details.currentCountry;\nexport const selectDetails = state => state.details;\nexport const selectNeighbors = state => state.details.neighbors;","map":{"version":3,"sources":["/Users/admin/Documents/WEB/React/countries' flag/src/store/detailsSlice/detailsSlice.js"],"names":["createAsyncThunk","createSlice","loadCountryByName","name","extra","client","api","get","searchByCountry","initialState","currentCountry","status","error","neighbors","detailsSlice","reducers","clearDetails","extraReducers","builder","addCase","pending","state","action","fulfilled","payload","data","rejected","detailsReducer","reducer","selectCurrentCountry","details","selectDetails","selectNeighbors"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAEA,OAAO,MAAMC,iBAAiB,GAAGF,gBAAgB,CAC7C,mBAD6C,EAE7C,CAACG,IAAD,WAA6B;AAAA,MAAvB;AAACC,IAAAA,KAAK,EAAC;AAACC,MAAAA,MAAD;AAAQC,MAAAA;AAAR;AAAP,GAAuB;AACzB,SAAOD,MAAM,CAACE,GAAP,CAAWD,GAAG,CAACE,eAAJ,CAAoBL,IAApB,CAAX,CAAP;AACH,CAJ4C,CAA1C;AAOP,MAAMM,YAAY,GAAG;AAClBC,EAAAA,cAAc,EAAE,IADE;AAElBC,EAAAA,MAAM,EAAC,MAFW;AAGlBC,EAAAA,KAAK,EAAE,IAHW;AAIlBC,EAAAA,SAAS,EAAC;AAJQ,CAArB;AAOA,OAAO,MAAMC,YAAY,GAAGb,WAAW,CAAC;AACpCE,EAAAA,IAAI,EAAC,SAD+B;AAEpCM,EAAAA,YAFoC;AAGpCM,EAAAA,QAAQ,EAAC;AACLC,IAAAA,YAAY,EAAC,MAAIP;AADZ,GAH2B;AAMpCQ,EAAAA,aAAa,EAAEC,OAAD,IAAW;AACrBA,IAAAA,OAAO,CACNC,OADD,CACSjB,iBAAiB,CAACkB,OAD3B,EACmC,CAACC,KAAD,EAAQC,MAAR,KAAiB;AAChDD,MAAAA,KAAK,CAACV,MAAN,GAAa,SAAb;AACH,KAHD,EAICQ,OAJD,CAISjB,iBAAiB,CAACqB,SAJ3B,EAIqC,CAACF,KAAD,EAAQC,MAAR,KAAiB;AAClDD,MAAAA,KAAK,CAACV,MAAN,GAAa,MAAb;AACAU,MAAAA,KAAK,CAACX,cAAN,GAAqBY,MAAM,CAACE,OAAP,CAAeC,IAAf,CAAoB,CAApB,CAArB;AACH,KAPD,EAQCN,OARD,CAQSjB,iBAAiB,CAACwB,QAR3B,EAQoC,CAACL,KAAD,EAAQC,MAAR,KAAiB;AACjDD,MAAAA,KAAK,CAACV,MAAN,GAAa,UAAb;AACAU,MAAAA,KAAK,CAACT,KAAN,GAAYU,MAAM,CAACE,OAAnB;AACH,KAXD;AAYH;AAnBmC,CAAD,CAAhC;AAuBP,OAAO,MAAMG,cAAc,GAAEb,YAAY,CAACc,OAAnC;AAGP,OAAO,MAAMC,oBAAoB,GAAER,KAAD,IAASA,KAAK,CAACS,OAAN,CAAcpB,cAAlD;AACP,OAAO,MAAMqB,aAAa,GAAIV,KAAD,IAASA,KAAK,CAACS,OAArC;AACP,OAAO,MAAME,eAAe,GAAIX,KAAD,IAASA,KAAK,CAACS,OAAN,CAAcjB,SAA/C","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const loadCountryByName = createAsyncThunk(\n    'loadCountryByName',\n    (name,{extra:{client,api}})=>{\n        return client.get(api.searchByCountry(name))\n    }\n)\n\nconst initialState = {\n   currentCountry: null,\n   status:'idle',\n   error: null, \n   neighbors:[],\n}\n\nexport const detailsSlice = createSlice({\n    name:'details',\n    initialState,\n    reducers:{\n        clearDetails:()=>initialState,\n    },\n    extraReducers:(builder)=>{\n        builder\n        .addCase(loadCountryByName.pending,(state, action)=>{\n            state.status='loading';\n        })\n        .addCase(loadCountryByName.fulfilled,(state, action)=>{\n            state.status='idle';\n            state.currentCountry=action.payload.data[0];\n        })\n        .addCase(loadCountryByName.rejected,(state, action)=>{\n            state.status='rejected';\n            state.error=action.payload;\n        })\n    }\n})\n\n\nexport const detailsReducer =detailsSlice.reducer;\n\n\nexport const selectCurrentCountry=(state)=>state.details.currentCountry;\nexport const selectDetails = (state)=>state.details;\nexport const selectNeighbors = (state)=>state.details.neighbors;"]},"metadata":{},"sourceType":"module"}